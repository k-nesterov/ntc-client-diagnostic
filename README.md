# Notouch client diagnostic script
Скрипт для сбора информации на тонких клиентах Notouch с включенным OpenVPN соединением.

Скрипт собирает информацию о:
* загрузке ОС. 
* сетевых интерфейсах. 
* IP-адресах.
* Проверяет доступность OpenVPN шлюза и Google DNS (*8.8.8.8*).

Вся информация сохраняется в указанный при запуске скрипта файл (_аргумент №1_).
Так же указывается имя сетевого интерфейса OpenVPN адаптера (_аргумент №2_).

##Пример запуска
```shell
bash ./diagnostic.sh /tmp/result_file.txt tun0
```
*Примечание*:
> Рекомендуется сохранять итоговый файл в директории /tmp/ , т.к. она очищается при перезагрузке

##Настройка со стороны Notouch Center
В разделе Eventscripts можно добавить загрузку скрипта при подключении сети (Startup 2 - After Network Initialized) и его перемещение в папку /config/, которая не очищается при перезагрузке
Сам запуск программы можно добавить в качестве нового соединения. Тип: custom command, в поле которого указать запуск скрипта и вызов всплывающего окна
bash /config/diagnostic.sh && tcdlg2 -h Diagnostic_info -b OK -g 800x600 -t "$(cat /tmp/diagnostic_result.txt)" --text-alignment=L